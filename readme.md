Client inputs buffered for their latency. 
Applied to primary simulation on receipt. 
Or maybe they're buffered as well.
Which frame they were actually applied to is sent back.
Inputs are broadcast to other clients.


I think a replay system is necessary. 
Whether that's helped or hindered by a latency buffer isn't clear. 